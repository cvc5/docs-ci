

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ML12X2V35B"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-ML12X2V35B');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Proof format: Cooperating Proof Calculus &mdash; cvc5  documentation</title>
      <link rel="stylesheet" type="text/css" href="../static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../static/custom.css?v=b9602cbe" />

  
      <script src="../static/jquery.js?v=5d32c60e"></script>
      <script src="../static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../static/documentation_options.js?v=5929fcd5"></script>
      <script src="../static/doctools.js?v=9bcbadda"></script>
      <script src="../static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Proof format: Alethe" href="output_alethe.html" />
    <link rel="prev" title="ProofRule and ProofRewriteRule" href="../api/python/base/proofrule.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            cvc5
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../binary/binary.html">Binary Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../options.html">Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../output-tags.html">Output tags</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="proofs.html">Proof Production</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="proofs.html#proof-rules">Proof Rules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../api/cpp/enums/proofrule.html">Proof Rules (C++)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/c/enums/cvc5proofrule.html">Proof Rules (C)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/python/base/proofrule.html">Proof Rules (Python)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="proofs.html#proof-formats">Proof Formats</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">CPC</a></li>
<li class="toctree-l4"><a class="reference internal" href="output_alethe.html">Alethe</a></li>
<li class="toctree-l4"><a class="reference internal" href="output_lfsc.html">LFSC</a></li>
<li class="toctree-l4"><a class="reference internal" href="output_dot.html">DOT</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../resource-limits.html">Resource limits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../skolem-ids.html">Skolem Identifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../statistics.html">Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theories/theories.html">Theory References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">cvc5</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="proofs.html">Proof Production</a></li>
      <li class="breadcrumb-item active">Proof format: Cooperating Proof Calculus</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="proof-format-cooperating-proof-calculus">
<h1>Proof format: Cooperating Proof Calculus<a class="headerlink" href="#proof-format-cooperating-proof-calculus" title="Link to this heading"></a></h1>
<p>Using option <a class="reference internal" href="../options.html#lbl-option-proof-format-mode"><span class="std std-ref">proof-format-mode=cpc</span></a>, cvc5
outputs proofs in the Cooperating Proof Calculus proof format.</p>
<p>This calculus was designed to faithfully represent cvc5’s internal reasoning.
As a disclaimer, this means that it treats certain operators differently from
the SMT-LIB standard.
As an example, cvc5 uses mixed arithmetic internally, where integers and reals
can appear together.
A comprehensive list of these differences can be found in the Eunoia definition
of CPC, as described below.</p>
<p><a class="reference external" href="https://github.com/cvc5/ethos">Ethos</a> is an efficient proof checker written
in C++ which can check proofs in the CPC format.
For a quick start, the cvc5 repository contains a
<a class="extlink-cvc5repo reference external" href="https://github.com/cvc5/cvc5/blob/main/contrib/get-ethos-checker">script</a> to download and install
the Ethos checker, and create scripts for generating proofs with cvc5 and
checking them with the Ethos proof checker.</p>
<p>The Ethos checker is based on the logical framework Eunoia.
The Cooperating Proof Calculus has been formalized in a Eunoia signature, which
is contained within the cvc5 repository in this
<a class="extlink-cvc5repo reference external" href="https://github.com/cvc5/cvc5/blob/main/proofs/eo/cpc/Cpc.eo">file</a>.
Based on this signature, Ethos can check CPC proofs over all theories that are
formalized in this signature.
For more details on Eunoia and a comprehensive overview of the language
supported by the Ethos checker, see the user manual
<a class="reference external" href="https://github.com/cvc5/ethos/blob/main/user_manual.md">here</a>.</p>
<p>Note that several proof rules in the Cooperating Proof Calculus are not yet
supported in Eunoia signatures.
Steps that use such rules are printed as <cite>trust</cite> steps in the proof.
A trust step proves an arbitrary formula with no provided justification.
The resulting proof contains warnings for trust steps that indicate which
internal proof rules were recorded as trust steps in the proof.</p>
<p>Upon successful exit, <cite>ethos</cite> will return the output <cite>incomplete</cite> if any trust
step is used in the proof, indicating that the reasoning in the proof was
incomplete.
Otherwise, if all proof steps are fully specified, <cite>ethos</cite> will return the
output <cite>correct</cite>.
All proofs in the cpc format are closed refutations of the input, in that the
proof will assume formulas from the input and end with a step proving false.</p>
<p>For more fine-grained proofs, the additional option
<a class="reference internal" href="../options.html#lbl-option-proof-granularity"><span class="std std-ref">proof-granularity=dsl-rewrite</span></a> can be
passed to cvc5.
This will result in proofs with more detail.</p>
<p>A simple example of cvc5 producing a proof in CPC proof format is shown below.
Notice that the concrete syntax of CPC is very similar to the Alethe format.
However, the proof rules used by these two formats are different.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$ bin/cvc5 --dump-proofs --proof-format-mode=cpc --proof-granularity=dsl-rewrite ../test/regress/cli/regress0/proofs/qgu-fuzz-1-bool-sat.smt2
unsat
(
(declare-const c Bool)
(declare-const b Bool)
(declare-const d Bool)
(define @t1 () (= b d))
(define @t2 () (or b d))
(define @t3 () (not (ite d c false)))
(define @t4 () (and d d))
(define @t5 () (and d c))
(define @t6 () (@list true false))
(assume @p1 (and (or d b) (= c d) @t3 (= @t2 @t1)))
(step @p2 :rule and_elim :premises (@p1) :args (0))
(step @p3 :rule reordering :premises (@p2) :args (@t2))
(step @p4 :rule aci_norm :args ((= @t4 d)))
(step @p5 :rule cong :premises (@p4) :args ((not @t4)))
(step @p6 :rule and_elim :premises (@p1) :args (1))
(step @p7 :rule refl :args (d))
(step @p8 :rule nary_cong :premises (@p7 @p6) :args (@t5))
(step @p9 :rule cong :premises (@p8) :args ((not @t5)))
(step @p10 :rule trans :premises (@p9 @p5))
(step @p11 :rule ite-else-false :args (d c))
(step @p12 :rule cong :premises (@p11) :args (@t3))
(step @p13 :rule trans :premises (@p12 @p10))
(step @p14 :rule and_elim :premises (@p1) :args (2))
(step @p15 :rule eq_resolve :premises (@p14 @p13))
(step @p16 :rule chain_resolution :premises (@p3 @p15) :args ((@list true) (@list d)))
(step @p17 :rule cnf_equiv_pos1 :args (@t1))
(step @p18 :rule reordering :premises (@p17) :args ((or d (not b) (not @t1))))
(step @p19 :rule chain_resolution :premises (@p18 @p15 @p16) :args (@t6 (@list d b)))
(step @p20 :rule and_elim :premises (@p1) :args (3))
(step @p21 :rule equiv_elim1 :premises (@p20))
(step @p22 :rule reordering :premises (@p21) :args ((or @t1 (not @t2))))
(step @p23 false :rule chain_resolution :premises (@p22 @p19 @p3) :args (@t6 (@list @t1 @t2)))
)
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../api/python/base/proofrule.html" class="btn btn-neutral float-left" title="ProofRule and ProofRewriteRule" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="output_alethe.html" class="btn btn-neutral float-right" title="Proof format: Alethe" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, the authors of cvc5.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>