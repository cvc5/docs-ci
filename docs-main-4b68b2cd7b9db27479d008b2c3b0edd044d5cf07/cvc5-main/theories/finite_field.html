

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ML12X2V35B"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-ML12X2V35B');
    </script>
    
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Theory Reference: Finite Fields &mdash; cvc5  documentation</title>
      <link rel="stylesheet" type="text/css" href="../static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../static/custom.css?v=b9602cbe" />

  
      <script src="../static/jquery.js?v=5d32c60e"></script>
      <script src="../static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../static/documentation_options.js?v=5929fcd5"></script>
      <script src="../static/doctools.js?v=9bcbadda"></script>
      <script src="../static/sphinx_highlight.js?v=dc90522c"></script>
      <script>window.MathJax = {"loader": {"load": ["[tex]/ams", "[tex]/bussproofs"]}, "tex": {"packages": {"[+]": ["ams", "bussproofs"]}, "macros": {"xor": "\\mathbin{xor}", "ite": ["#1 \\mathbin{?} #2 \\mathbin{:} #3", 3], "inferrule": ["\\begin{prooftree}\\AxiomC{$#1$}\\UnaryInfC{$#2$}\\end{prooftree}", 2], "inferruleSC": ["\\begin{prooftree}\\AxiomC{$#1$}\\RightLabel{ #3}\\UnaryInfC{$#2$}\\end{prooftree}", 3]}}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Theory Reference: Separation Logic" href="separation-logic.html" />
    <link rel="prev" title="Theory Reference: Datatypes" href="datatypes.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            cvc5
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../binary/binary.html">Binary Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../options.html">Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../output-tags.html">Output tags</a></li>
<li class="toctree-l1"><a class="reference internal" href="../proofs/proofs.html">Proof Production</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource-limits.html">Resource limits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../skolem-ids.html">Skolem Identifiers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../statistics.html">Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="theories.html">Theory References</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="theories.html#standardized-theories">Standardized theories</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="theories.html#non-standard-or-extended-theories">Non-standard or extended theories</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="bags.html">Theory Reference: Bags</a></li>
<li class="toctree-l3"><a class="reference internal" href="datatypes.html">Theory Reference: Datatypes</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Theory Reference: Finite Fields</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#semantics">Semantics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#syntax">Syntax</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#experimental-extensions">Experimental Extensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#solvers">Solvers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="separation-logic.html">Theory Reference: Separation Logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="sequences.html">Theory Reference: Sequences</a></li>
<li class="toctree-l3"><a class="reference internal" href="sets-and-relations.html">Theory Reference: Sets and Relations</a></li>
<li class="toctree-l3"><a class="reference internal" href="strings.html">Theory Reference: Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="transcendentals.html">Theory Reference: Transcendentals</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">cvc5</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="theories.html">Theory References</a></li>
      <li class="breadcrumb-item active">Theory Reference: Finite Fields</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="theory-reference-finite-fields">
<h1>Theory Reference: Finite Fields<a class="headerlink" href="#theory-reference-finite-fields" title="Link to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt>Currently, cvc5 only supports finite fields of prime order p.</dt><dd><p>Such a field is isomorphic to the integers modulo p.</p>
</dd>
</dl>
</div>
<section id="semantics">
<h2>Semantics<a class="headerlink" href="#semantics" title="Link to this heading"></a></h2>
<p>First, for integer <span class="math notranslate nohighlight">\(x\)</span> and positive integer <span class="math notranslate nohighlight">\(y\)</span>, define <span class="math notranslate nohighlight">\((x \bmod y)\)</span> as the unique integer <span class="math notranslate nohighlight">\(r\)</span> such that <span class="math notranslate nohighlight">\(y = qx + r\)</span> (where <span class="math notranslate nohighlight">\(q\)</span> is an integer) and <span class="math notranslate nohighlight">\(0 \le r &lt; q\)</span>.
NB: This is the remainder when so-called “floor division” is performed.</p>
<p>We interpret field sorts as prime fields and field terms as integers. In the following, let:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">N</span></code> be an integer numeral and <span class="math notranslate nohighlight">\(N\)</span> be its integer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code> be a prime numeral and <span class="math notranslate nohighlight">\(p\)</span> be its prime</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">F</span></code> be an SMT field sort (of order <span class="math notranslate nohighlight">\(p\)</span>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> be SMT field terms (of the same sort <code class="docutils literal notranslate"><span class="pre">F</span></code>) with interpretations <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span></p></li>
</ul>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>SMT construct</p></th>
<th class="head"><p>Semantics</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(_</span> <span class="pre">FiniteField</span> <span class="pre">p)</span></code></p></td>
<td><p>the field of order <span class="math notranslate nohighlight">\(p\)</span></p></td>
<td><p>represented as the integers modulo <span class="math notranslate nohighlight">\(p\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">(as</span> <span class="pre">ffN</span> <span class="pre">F)</span></code></p></td>
<td><p>the integer <span class="math notranslate nohighlight">\((N \bmod p)\)</span></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(ff.add</span> <span class="pre">x</span> <span class="pre">y)</span></code></p></td>
<td><p>the integer <span class="math notranslate nohighlight">\(((x + y) \bmod p)\)</span></p></td>
<td><p>NB: <code class="docutils literal notranslate"><span class="pre">ff.add</span></code> is an n-ary operator</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">(ff.mul</span> <span class="pre">x</span> <span class="pre">y)</span></code></p></td>
<td><p>the integer <span class="math notranslate nohighlight">\(((x \times y) \bmod p)\)</span></p></td>
<td><p>NB: <code class="docutils literal notranslate"><span class="pre">ff.mul</span></code> is an n-ary operator</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">(=</span> <span class="pre">x</span> <span class="pre">y)</span></code></p></td>
<td><p>the Boolean <span class="math notranslate nohighlight">\(x = y\)</span></p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Link to this heading"></a></h2>
<p>For the C++ API examples in the table below, we assume that we have created
a <a class="reference internal" href="../api/cpp/classes/solver.html#_CPPv4N4cvc56SolverE" title="cvc5::Solver"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Solver</span></code></a> object <code class="docutils literal notranslate"><span class="pre">solver</span></code>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>SMT-LIB language</p></th>
<th class="head"><p>C++ API</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Logic String</p></td>
<td><p>use <cite>FF</cite> for finite fields</p>
<p><code class="docutils literal notranslate"><span class="pre">(set-logic</span> <span class="pre">QF_FF)</span></code></p>
</td>
<td><p>use <cite>FF</cite> for finite fields</p>
<p><code class="docutils literal notranslate"><span class="pre">solver.setLogic(&quot;QF_FF&quot;);</span></code></p>
</td>
</tr>
<tr class="row-odd"><td><p>Sort</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">(_</span> <span class="pre">FiniteField</span> <span class="pre">&lt;Prime</span> <span class="pre">Order&gt;)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">solver.mkFiniteFieldSort(&lt;Prime</span> <span class="pre">Order</span> <span class="pre">As</span> <span class="pre">String&gt;);</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Constants</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">(declare-const</span> <span class="pre">X</span> <span class="pre">(_</span> <span class="pre">FiniteField</span> <span class="pre">7))</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Sort</span> <span class="pre">s</span> <span class="pre">=</span> <span class="pre">solver.mkFiniteFieldSort(&quot;7&quot;);</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">Term</span> <span class="pre">X</span> <span class="pre">=</span> <span class="pre">solver.mkConst(s,</span> <span class="pre">&quot;X&quot;);</span></code></p>
</td>
</tr>
<tr class="row-odd"><td><p>Finite Field Value</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">(as</span> <span class="pre">ff3</span> <span class="pre">(_</span> <span class="pre">FiniteField</span> <span class="pre">7))</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Sort</span> <span class="pre">ffSort</span> <span class="pre">=</span> <span class="pre">solver.mkFiniteFieldSort(&quot;7&quot;);</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">Term</span> <span class="pre">t</span> <span class="pre">=</span> <span class="pre">solver.mkFiniteFieldElem(&quot;3&quot;,</span> <span class="pre">ffSort);</span></code></p>
</td>
</tr>
<tr class="row-even"><td><p>Addition</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">(ff.add</span> <span class="pre">x</span> <span class="pre">y)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Term</span> <span class="pre">t</span> <span class="pre">=</span> <span class="pre">solver.mkTerm(Kind::FINITE_FIELD_ADD,</span> <span class="pre">{x,</span> <span class="pre">y});</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Multiplication</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">(ff.mul</span> <span class="pre">x</span> <span class="pre">y)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Term</span> <span class="pre">t</span> <span class="pre">=</span> <span class="pre">solver.mkTerm(Kind::FINITE_FIELD_MULT,</span> <span class="pre">{x,</span> <span class="pre">y});</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Equality</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">(=</span> <span class="pre">x</span> <span class="pre">y)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Term</span> <span class="pre">t</span> <span class="pre">=</span> <span class="pre">solver.mkTerm(Kind::EQUAL,</span> <span class="pre">{x,</span> <span class="pre">y});</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span>(<span class="k">set-logic</span> <span class="n">QF_FF</span>)
(<span class="k">set-info</span> <span class="na">:status</span> <span class="n">unsat</span>)
(<span class="k">define-sort</span> <span class="n">F</span> () (<span class="na">_</span> <span class="n">FiniteField</span> <span class="m">3</span>))
(<span class="k">declare-const</span> <span class="n">x</span> <span class="n">F</span>)
(<span class="k">assert</span> (<span class="o">=</span> (<span class="n">ff.mul</span> <span class="n">x</span> <span class="n">x</span>) (<span class="k">as</span> <span class="n">ff-1</span> <span class="n">F</span>)))
(<span class="k">check-sat</span>)
<span class="c">; unsat</span>
</pre></div>
</div>
<div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span>(<span class="k">set-logic</span> <span class="n">QF_FF</span>)
(<span class="k">set-info</span> <span class="na">:status</span> <span class="n">sat</span>)
(<span class="k">define-sort</span> <span class="n">F</span> () (<span class="na">_</span> <span class="n">FiniteField</span> <span class="m">3</span>))
(<span class="k">declare-const</span> <span class="n">x</span> <span class="n">F</span>)
(<span class="k">assert</span> (<span class="o">=</span> (<span class="n">ff.mul</span> <span class="n">x</span> <span class="n">x</span>) (<span class="k">as</span> <span class="n">ff0</span> <span class="n">F</span>)))
(<span class="k">check-sat</span>)
<span class="c">; sat: (= x (as ff0 F)) is the only model</span>
</pre></div>
</div>
<div class="highlight-smtlib notranslate"><div class="highlight"><pre><span></span>(<span class="k">set-logic</span> <span class="n">QF_FF</span>)
(<span class="k">set-info</span> <span class="na">:status</span> <span class="n">unsat</span>)
(<span class="k">define-sort</span> <span class="n">F</span> () (<span class="na">_</span> <span class="n">FiniteField</span> <span class="m">3</span>))
(<span class="k">declare-const</span> <span class="n">x</span> <span class="n">F</span>)
(<span class="k">declare-const</span> <span class="n">y</span> <span class="n">F</span>)
(<span class="k">declare-const</span> <span class="n">z</span> <span class="n">F</span>)
(<span class="k">assert</span> (<span class="o">=</span> (<span class="n">ff.mul</span> (<span class="n">ff.add</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span>) (<span class="n">ff.add</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span>)) (<span class="k">as</span> <span class="n">ff-1</span> <span class="n">F</span>)))
(<span class="k">check-sat</span>)
<span class="c">; unsat</span>
</pre></div>
</div>
</section>
<section id="experimental-extensions">
<h2>Experimental Extensions<a class="headerlink" href="#experimental-extensions" title="Link to this heading"></a></h2>
<p>These features of the theory are experimental; they may be removed in the
future:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ff.bitsum</span></code>: an n-ary operator for bitsums: <code class="docutils literal notranslate"><span class="pre">(ff.bitsum</span> <span class="pre">x0</span> <span class="pre">x1</span> <span class="pre">x2)</span></code> is equivalent to <span class="math notranslate nohighlight">\(x_0 + 2x_1 + 4x_2\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ff.neg</span></code>: unary negation</p></li>
</ul>
</section>
<section id="solvers">
<h2>Solvers<a class="headerlink" href="#solvers" title="Link to this heading"></a></h2>
<p>Internally, cvc5 implements two solvers for the theory of finite fields.</p>
<ul class="simple">
<li><p>The default solver is described in “Satisfiability Modulo Finite Fields” <span id="id1">[<a class="reference internal" href="../references.html#id16" title="Alex Ozdemir, Gereon Kremer, Cesare Tinelli, and Clark Barrett. Satisfiability modulo finite fields. In Constantin Enea and Akash Lal, editors, Computer Aided Verification (CAV), volume 13965 of Lecture Notes in Computer Science, 163–186. Springer, 2023. URL: https://doi.org/10.1007/978-3-031-37703-7_8, doi:10.1007/978-3-031-37703-7_8.">OKTB23</a>]</span>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">--ff-solver</span> <span class="pre">split</span></code> flag turns on an alternate solver from “Split Groebner Bases for Satisfiability Modulo Finite Fields” <span id="id2">[<a class="reference internal" href="../references.html#id17" title="Alex Ozdemir, Shankara Pailoor, Alp Bassa, Kostas Ferles, Clark Barrett, and Işıl Dillig. Split gröbner bases for satisfiability modulo finite fields. In Computer Aided Verification (CAV), Lecture Notes in Computer Science. 2024. URL: https://ia.cr/2024/572.">OPB+24</a>]</span>. This solver may be better on field equations that encode bit-decomposition. See the paper for more information.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="datatypes.html" class="btn btn-neutral float-left" title="Theory Reference: Datatypes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="separation-logic.html" class="btn btn-neutral float-right" title="Theory Reference: Separation Logic" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, the authors of cvc5.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>